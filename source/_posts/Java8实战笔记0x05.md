---
title: Java8实战笔记0x05
date: 2019-08-15 20:58:23
categories: Java
tags:
  - Java
  - 笔记
---

# 默认方法

- 一旦类库设计者需要更新接口，向其中加入新的方法，继承该接口的代码就需要做出相应的修改。Java 8引入了新的解决方法，一是允许在接口中声明静态方法，二是引入默认方法，通过默认方法可以指定接口方法的默认实现，默认方法使用`default`修饰。

## 不断演进的API

### 不同类型的兼容性

- 变更对Java程序的影响大体可以分成三种类型的兼容性：
  - 二进制级的兼容性，表示现有的二进制执行文件能无缝持续链接（包括验证、准备和解析）和运行。例如向接口添加一个方法就是二进制级的兼容，如果添加方法不被调用，那么现有程序就不会出现错误。
  - 源代码级的兼容性，表示引入变化之后，现有的程序依然能成功编译通过。例如向接口添加新的方法就不是源代码级的兼容，因为遗留代码没有实现新引入的方法，所以无法顺利通过编译。
  - 函数行为的兼容性，表示变更发生之后，程序接受同样的输入能得到同样的结果。还是例如向接口添加新的方法，是函数行为兼容的，因为新的方法没有调用，或者被实现覆盖而没有影响其表现。